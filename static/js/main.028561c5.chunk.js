(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={gallery:"ImageGalleryItem_gallery__1bZd1"}},16:function(e,t,a){e.exports={Button:"Button_Button__HY0DH"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1A9VJ",SearchForm:"Searchbar_SearchForm__1cy9N",SearchFormButton:"Searchbar_SearchFormButton__2Hset",SearchFormInput:"Searchbar_SearchFormInput__1GKjt"}},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),o=a.n(c),s=a(10),l=a(3),u=a(12),i=a.n(u),j=(a(44),a(13)),m=a(14),b=a(18),g=a(17),h=a(4),d=a.n(h),O=a(1),f=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={value:""},e.onChangeValue=function(t){e.setState({value:t.target.value})},e.getValue=function(t){t.preventDefault(),e.props.getQuery(e.state.value)},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(O.jsx)("header",{className:d.a.Searchbar,children:Object(O.jsxs)("form",{className:d.a.SearchForm,onSubmit:this.getValue,children:[Object(O.jsx)("button",{type:"submit",className:d.a.SearchFormButton,children:Object(O.jsx)("span",{className:d.a.SearchFormButtonLabel,children:"Search"})}),Object(O.jsx)("input",{onChange:this.onChangeValue,value:this.state.value,className:d.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),p=a(15),y=a.n(p),v=a(19),_=a(8),x=a.n(_);function S(e){return e.images.map((function(e){var t=e.id,a=e.webformatURL,r=e.tags,n=e.largeImageURL;return Object(O.jsx)("li",{id:t,className:x.a.galleryItem,largimage:n,children:Object(O.jsx)("img",{className:x.a.galleryItemImg,src:a,alt:r})},Object(v.a)())}))}var I=a(9),F=a.n(I);function w(e){var t=e.largeImg;return Object(O.jsx)("div",{className:F.a.Overlay,"data-overlay":"open",children:Object(O.jsx)("div",{className:F.a.Modal,children:Object(O.jsx)("img",{src:t,alt:""})})})}var N=function(e){var t=e.images,a=Object(r.useState)(!1),n=Object(l.a)(a,2),c=n[0],o=n[1],s=Object(r.useState)(""),u=Object(l.a)(s,2),i=u[0],j=u[1];Object(r.useEffect)((function(){window.addEventListener("keydown",m)}),[c]),Object(r.useEffect)((function(){return window.addEventListener("keydown",m)}),[]);var m=function(e){"Escape"===e.code&&o(!1)};return Object(O.jsxs)("ul",{className:y.a.gallery,onClick:function(e){if(e.target!==e.currentTarget){if(!c){var t=e.target.closest("li").getAttribute("largimage");j(t),o(!0)}"open"===e.target.closest("div").dataset.overlay&&o(!1)}},onKeyDown:m,children:[c&&Object(O.jsx)(w,{largeImg:i}),Object(O.jsx)(S,{images:t})]})},k=a(16),B=a.n(k);function L(e){var t=e.getLoadMore;return Object(O.jsx)("button",{className:B.a.Button,onClick:t,children:"Load more"})}var M=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(l.a)(c,2),u=o[0],j=o[1],m=Object(r.useState)(!1),b=Object(l.a)(m,2),g=b[0],h=b[1],d=Object(r.useState)(1),p=Object(l.a)(d,2),y=p[0],v=p[1],_=function(){var e=u;h(!0),function(e){var t=e.query,a=e.page;return fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat("24469926-df466a8874aa59a8d5a89b872","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}({query:a,page:y}).then((function(t){return j(1===y?t.hits:[].concat(Object(s.a)(e),Object(s.a)(t.hits)))})),h(!1)};return Object(r.useEffect)((function(){_()}),[y,a]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f,{getQuery:function(e){a!==e&&(n(e),v(1))}}),g&&Object(O.jsx)(i.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:1e3}),Object(O.jsx)(N,{images:u}),Object(O.jsx)(L,{getLoadMore:function(){v(y+1)}})]})};o.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(M,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__sIqx9",galleryItemImg:"ImageGalleryItem_galleryItemImg__2ga-3"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__28Dm5",Modal:"Modal_Modal__29GAV"}}},[[46,1,2]]]);
//# sourceMappingURL=main.028561c5.chunk.js.map