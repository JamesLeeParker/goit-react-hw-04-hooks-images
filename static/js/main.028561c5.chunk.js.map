{"version":3,"sources":["_components/ImageGallery/ImageGalleryItem.module.scss","_components/Button/Button.module.scss","_components/Searchbar/Searchbar.module.scss","_components/Searchbar/Searchbar.jsx","_components/ImageGalleryItem/ImageGalleryItem.jsx","_components/Modal/Modal.jsx","_components/ImageGallery/ImageGallery.jsx","_components/Button/Button.jsx","App/App.jsx","index.js","_components/ImageGalleryItem/ImageGalleryItem.module.scss","_components/Modal/Modal.module.scss"],"names":["module","exports","Searchbar","state","value","onChangeValue","e","setState","target","getValue","preventDefault","props","getQuery","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","map","id","webformatURL","tags","largeImageURL","galleryItem","largimage","galleryItemImg","src","alt","nanoid","Modal","largeImg","Overlay","ImageGallery","useState","modalOpen","setModalOpen","setLargeImg","useEffect","window","addEventListener","closeModalByEscape","code","gallery","onClick","currentTarget","currentId","closest","getAttribute","dataset","overlay","onKeyDown","Button","getLoadMore","App","query","setQuery","setImages","loadding","setLoadding","page","setPage","setNewImages","arr","fetch","then","res","json","getFetch","data","hits","color","height","width","timeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.028561c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGalleryItem_gallery__1bZd1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HY0DH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1A9VJ\",\"SearchForm\":\"Searchbar_SearchForm__1cy9N\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Hset\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1GKjt\"};","import { Component } from \"react\";\r\nimport s from \"./Searchbar.module.scss\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    value: \"\",\r\n  };\r\n\r\n  onChangeValue = (e) => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  getValue = (e) => {\r\n    e.preventDefault();\r\n    this.props.getQuery(this.state.value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.getValue}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.onChangeValue}\r\n            value={this.state.value}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import { nanoid } from \"nanoid\";\r\nimport s from \"./ImageGalleryItem.module.scss\";\r\n\r\nexport default function ImageGalleryItem({ images }) {\r\n  return images.map(({ id, webformatURL, tags, largeImageURL }) => {\r\n    return (\r\n      <li\r\n        key={nanoid()}\r\n        id={id}\r\n        className={s.galleryItem}\r\n        largimage={largeImageURL}\r\n      >\r\n        <img className={s.galleryItemImg} src={webformatURL} alt={tags} />\r\n      </li>\r\n    );\r\n  });\r\n}\r\n","import s from \"./Modal.module.scss\";\r\n\r\nexport default function Modal({ largeImg }) {\r\n  return (\r\n    <div className={s.Overlay} data-overlay=\"open\">\r\n      <div className={s.Modal}>\r\n        <img src={largeImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport s from \"./ImageGalleryItem.module.scss\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nconst ImageGallery = ({ images }) => {\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [largeImg, setLargeImg] = useState(\"\");\r\n  // state = {\r\n  //   modalOpen: false,\r\n  //   largeImg: \"\",\r\n  // };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", closeModalByEscape);\r\n  }, [modalOpen]);\r\n\r\n  useEffect(() => {\r\n    return window.addEventListener(\"keydown\", closeModalByEscape);\r\n  }, []);\r\n\r\n  const openModal = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      return;\r\n    }\r\n\r\n    if (!modalOpen) {\r\n      const currentId = e.target.closest(\"li\").getAttribute(\"largimage\");\r\n      setLargeImg(currentId);\r\n      setModalOpen(true);\r\n    }\r\n\r\n    if (e.target.closest(\"div\").dataset.overlay === \"open\") {\r\n      setModalOpen(false);\r\n    }\r\n  };\r\n\r\n  const closeModalByEscape = (e) => {\r\n    if (e.code === \"Escape\") setModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <ul\r\n      className={s.gallery}\r\n      onClick={openModal}\r\n      onKeyDown={closeModalByEscape}\r\n    >\r\n      {modalOpen && <Modal largeImg={largeImg} />}\r\n      <ImageGalleryItem images={images} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.scss\";\r\n\r\nexport default function Button({ getLoadMore }) {\r\n  return (\r\n    <button className={s.Button} onClick={getLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","// import Loader from \"react-loader-spinner\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Searchbar from \"../_components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"../_components/ImageGallery/ImageGallery\";\r\nimport Button from \"../_components/Button/Button\";\r\n\r\nconst API_KEY = \"24469926-df466a8874aa59a8d5a89b872\";\r\n\r\nconst getFetch = ({ query, page }) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((res) => res.json());\r\n};\r\n\r\nconst App = () => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [loadding, setLoadding] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const getQuery = (value) => {\r\n    if (query !== value) {\r\n      setQuery(value);\r\n      setPage(1);\r\n    }\r\n  };\r\n\r\n  const getLoadMore = () => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  const setNewImages = () => {\r\n    let arr = images;\r\n    setLoadding(true);\r\n    getFetch({ query, page }).then((data) =>\r\n      setImages(page === 1 ? data.hits : [...arr, ...data.hits])\r\n    );\r\n    setLoadding(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setNewImages();\r\n  }, [page, query]);\r\n\r\n  return (\r\n    <>\r\n      <Searchbar getQuery={getQuery} />\r\n      {loadding && (\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={1000}\r\n        />\r\n      )}\r\n\r\n      <ImageGallery images={images} />\r\n\r\n      <Button getLoadMore={getLoadMore} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App/App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__sIqx9\",\"galleryItemImg\":\"ImageGalleryItem_galleryItemImg__2ga-3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__28Dm5\",\"Modal\":\"Modal_Modal__29GAV\"};"],"sourceRoot":""}